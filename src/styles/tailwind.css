@import "tailwindcss";
@import "tailwindcss/preflight";
@tailwind utilities;

/* 1 — Design tokens that generate utilities */
@theme {
  /* Colours */
  --color-surface: #1c1c1c;
  --color-surface-subtle: #2a2a2a;
  --color-surface-alt: #3b3b3b;          /* chip/background */
  --color-text-default: #ffffff;
  --color-text-subtle: #999999;          /* placeholder/help text */
  --color-accent-primary: #ab9ff2;       /* Phantom purple */       
  --color-accent-secondary: #4a87f2;     /* link/blue buttons */    
  --color-success: #30a46c;              /* success green */        
  --color-warning: #ffd13f;              /* yellow */               
  --color-danger: #e54d2e;               /* error red */            
  --color-tint-purple: #e2dffe;
  --color-tint-success: #adddc0;         /* hover green tint */     
  --color-tint-warning: #ffffc4;
  --color-tint-danger: #ffdadc;

  /* Radii & shadows */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 16px;                     /* card/modals */          
  --radius-pill: 9999px;
  --shadow-sm: 0 4px 4px #00000040;      /* subtle elevation */     
  --shadow-md: 0 4px 16px #00000040;
  --shadow-modal: 0 15px 20px #0009;     /* big modal */         

  /* Typography (px / line-height / weight) */
  --font-display-xl: 38px 42px 600;
  --font-display-lg: 28px 32px 600;
  --font-title      : 22px 24px 600;
  --font-body-large : 18px 24px 500;
  --font-body       : 16px 19px 400;
  --font-caption    : 14px 16px 400;
  --font-micro      : 13px 16px 500;     /* chip text */           

  /* Component geometry */
  --btn-radius     : var(--radius-md);
  --btn-h-md       : 40px;
  --btn-h-sm       : 32px;
  --btn-h-xs       : 26px;
  --btn-px-md      : 16px;
  --btn-py-md      : 10px;
  --btn-px-sm      : 12px;
  --btn-py-sm      : 6px;
  --btn-px-xs      : 8px;
  --btn-py-xs      : 2px;
  --chip-radius    : var(--radius-sm);
  --chip-px        : 6px;
  --chip-py        : 2px;
  --chip-h         : 20px;
}

/* 2 — Reusable component shortcuts */
@layer utilities {
  .btn {
    @apply inline-flex items-center justify-center font-medium 
           shadow-[var(--shadow-sm)] rounded-[var(--btn-radius)]
           transition-colors duration-150;
    height: var(--btn-h-md);
    padding-inline: var(--btn-px-md);
    padding-block: var(--btn-py-md);
  }
  .btn-sm { height: var(--btn-h-sm); padding: var(--btn-py-sm) var(--btn-px-sm); }
  .btn-xs { height: var(--btn-h-xs); padding: var(--btn-py-xs) var(--btn-px-xs); }
  .btn-md { height: var(--btn-h-md); padding: var(--btn-py-md) var(--btn-px-md); }

  .btn-primary   { @apply inline-flex items-center justify-center font-medium 
           shadow-[var(--shadow-sm)] rounded-[var(--btn-radius)]
           transition-colors duration-150 bg-[var(--color-accent-primary)] text-[var(--color-surface)] hover:bg-[var(--color-tint-purple)]; }
  .btn-secondary { @apply inline-flex items-center justify-center font-medium 
           shadow-[var(--shadow-sm)] rounded-[var(--btn-radius)]
           transition-colors duration-150 bg-[var(--color-surface-alt)] text-[var(--color-text-default)] hover:bg-[#181818]; }
  .btn-success   { @apply inline-flex items-center justify-center font-medium 
           shadow-[var(--shadow-sm)] rounded-[var(--btn-radius)]
           transition-colors duration-150 bg-[var(--color-success)] text-[var(--color-text-default)] hover:bg-[var(--color-tint-success)]; }
  .btn-warning   { @apply inline-flex items-center justify-center font-medium 
           shadow-[var(--shadow-sm)] rounded-[var(--btn-radius)]
           transition-colors duration-150 bg-[var(--color-warning)] text-[var(--color-surface)] hover:bg-[var(--color-tint-warning)]; }
  .btn-danger    { @apply inline-flex items-center justify-center font-medium 
           shadow-[var(--shadow-sm)] rounded-[var(--btn-radius)]
           transition-colors duration-150 bg-[var(--color-danger)] text-[var(--color-text-default)] hover:bg-[var(--color-tint-danger)]; }
  .btn-disabled  { @apply inline-flex items-center justify-center font-medium 
           shadow-[var(--shadow-sm)] rounded-[var(--btn-radius)]
           transition-colors duration-150 bg-[#777] text-[#bbb] cursor-not-allowed opacity-60; }

  .chip {
    @apply inline-flex items-center gap-1 bg-[var(--color-surface-alt)] 
           text-[var(--color-text-subtle)] rounded-[var(--chip-radius)] 
           font-medium;
    height: var(--chip-h);
    padding-inline: var(--chip-px);
    padding-block: var(--chip-py);
    font-size: 13px;
    line-height: 16px;
  }

  /* Text roles (optional helpers) */
  .text-display-xl { font: var(--font-display-xl); letter-spacing: -0.02em; }
  .text-display-lg { font: var(--font-display-lg); letter-spacing: -0.02em; }
  .text-title      { font: var(--font-title);      letter-spacing: -0.02em; }
  .text-body-large { font: var(--font-body-large); }
  .text-body       { font: var(--font-body); }
  .text-caption    { font: var(--font-caption); }
  .text-micro      { font: var(--font-micro); }
}